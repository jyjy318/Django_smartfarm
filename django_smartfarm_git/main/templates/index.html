{% load static %}
<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no" />
        <meta name="description" content="" />
        <meta name="author" content="" />
        <title> City Farmer</title>
        <link rel="icon" type="image/x-icon" href="{%static "assets/img/favicon.ico" %}" />
        <!-- Font Awesome icons (free version)-->
        <script src=  "https://use.fontawesome.com/releases/v5.13.0/js/all.js"  crossorigin="anonymous"></script>
        <!-- Google fonts-->
        <link href="https://fonts.googleapis.com/css?family=Montserrat:400,700" rel="stylesheet" type="text/css" />
        <link href="https://fonts.googleapis.com/css?family=Droid+Serif:400,700,400italic,700italic" rel="stylesheet" type="text/css" />
        <link href="https://fonts.googleapis.com/css?family=Roboto+Slab:400,100,300,700" rel="stylesheet" type="text/css" />
        <!-- Core theme CSS (includes Bootstrap)-->
        <link href="{% static "css/styles.css"%}" rel="stylesheet" />
        <script src="//code.jquery.com/jquery-1.11.0.min.js"></script>
        <script type="text/javascript">
            function t_water(){
                alert('3일 뒤에 토마토에 물을 주는 알람을 띄웁니다.')
            }

            function s_water(){
                alert('3일 뒤에 상추에 물을 주는 알람을 띄웁니다.')
            }

            function p_water(){
                alert('3일 뒤에 고추에 물을 주는 알람을 띄웁니다.')
            }
        </script>
        <script>
             $(document).ready(function () {
                if ('{{request.session.name}}'==""){
                    alert('로그인후 이용하세요');
                    window.location = 'fiindex';
                }
            })
        </script>
    </head>
    <body id="page-top">
        <!-- Navigation-->
        <nav class="navbar navbar-expand-lg navbar-dark fixed-top" id="mainNav">
            <div class="container">
                <a class="navbar-brand js-scroll-trigger" href="#page-top"></a>
                <button class="navbar-toggler navbar-toggler-right" type="button" data-toggle="collapse" data-target="#navbarResponsive" aria-controls="navbarResponsive" aria-expanded="false" aria-label="Toggle navigation">
                    메뉴
                    <i class="fas fa-bars ml-1"></i>
                </button>
                <div class="collapse navbar-collapse" id="navbarResponsive">
                    <ul class="navbar-nav text-uppercase ml-auto">
                        <li class="nav-item"><a class="nav-link js-scroll-trigger">{{request.session.name}}({{request.session.id}})님 로그인중</a></li>
                        <li class="nav-item"><a class="nav-link js-scroll-trigger" href="#services">주요서비스</a></li>
                        <li class="nav-item"><a class="nav-link js-scroll-trigger" href="#recognize">농작물 인식</a></li>
                        <li class="nav-item"><a class="nav-link js-scroll-trigger" href="#recommend">환경분석 및 농작물추천</a></li>
                        <li class="nav-item"><a class="nav-link js-scroll-trigger" href="#team">함께한사람들</a></li>
                        <li class="nav-item"><a class="nav-link js-scroll-trigger" href="#contact">Contact</a></li>
                        <li class="nav-item"><a class="nav-link js-scroll-trigger" href="logout">로그아웃</a></li>
                    </ul>
                </div>
            </div>
        </nav>
        <!-- Masthead-->
        <header class="masthead">
            <div class="container">
                <div class="masthead-subheading">Welcome to City Farmer!</div>
                <div class="masthead-heading text-uppercase"> {{request.session.name}}님<br>
                반갑습니다</div>
                <a class="btn btn-primary btn-xl text-uppercase js-scroll-trigger" href="#services">더 알아보기</a>
            </div>
        </header>
        <!-- Services-->
        <section class="page-section" id="services">
            <div class="container">
                <div class="text-center">
                    <h2 class="section-heading text-uppercase"> Main Services</h2>
                    <h3 class="section-subheading text-muted">인공지능과 사물인터넷이 만난 댁내 스마트팜, 도시농부의 주요기능은 다음과 같습니다.</h3>
                </div>
                <div class="row text-center">
                    <div class="col-md-4">
                        <span class="fa-stack fa-4x">
                            <img class="img-fluid" src="{%static "assets/img/temperature.jpg" %}" alt="" />
                        </span>
                        <h4 class="my-3">사물인터넷을 활용한<br> 댁내 온도,습도 측정</h4>
                        <p class="text-muted">댁내 현재 온도와 습도 및 농작물이 자라기 위한 최적의 온도와 습도를 보여줍니다.</p>
                    </div>
                    <div class="col-md-4">
                        <span class="fa-stack fa-4x">
                             <img class="img-fluid" src="{%static "assets/img/recognizealert.jpg" %}" alt="" />
                        </span>
                        <h4 class="my-3">AI를 통한 <br> 농작물인식</h4>
                        <p class="text-muted">카메라를 통한 농작물 인식 및 농작물의 상태를 알려드립니다.</p>
                    </div>
                    <div class="col-md-4">
                        <span class="fa-stack fa-4x">
                            <img class="img-fluid" src="{%static "assets/img/recommend.jpg" %}" alt="" />
                        </span>
                        <h4 class="my-3">환경분석을 통한 <br> 농작물 추천</h4>
                        <p class="text-muted">사용자가 키우는 농작물과 비슷한 환경에서 자랄 수 있는 농작물을 추천해드립니다.</p>
                    </div>
                </div>
            </div>
        </section>
        <!-- recognize Grid-->
        <section class="page-section bg-light" id="recognize">
            <div class="container">
                <div class="text-center">
                    <h2 class="section-heading text-uppercase">AI 농작물인식</h2>
                    <h3 class="section-subheading text-muted">상태를 알고싶은 농작물을 촬영해주세요.<br>촬영시, 가까운 거리에서 촬영해 주십시오.</h3>
                </div>
                <div class="row">
                    <div class="col-lg-4 col-sm-6 mb-4">
                        <div class="portfolio-item">
                            <a class="portfolio-link" data-toggle="modal" href="#portfolioModal1">
                                <div class="portfolio-hover">
                                    <div class="portfolio-hover-content"><i class="fas fa-plus fa-3x"></i></div>
                                </div>
                                <img class="img-fluid" src="{%static "assets/img/portfolio/camera.jpeg" %}" alt="" /> 
                                <h3 class="section-subheading text-muted">      </h3>
                                <a href="showlive" class="btn btn-primary btn-xl text-uppercase">댁내 농작물 실시간 모니터링 </a>
                                <h3 class="section-subheading text-muted">      </h3>
                                <img src = {{filePathName}} alt = 'imagename' border = "0" width = "200" height="200">
                            </a>
                            <div class="portfolio-caption">
                        </div>
                    </div>     
                        </div>
                    </div>
                </div>
            </div>
        </section>
        <!-- About-->
        <section class="page-section" id="recommend">
            <div class="container">
                <div class="text-center">
                    <h2 class="section-heading text-uppercase">댁내 환경정보 및<br>새로운 농작물 추천</h2>
                    <h3 class="section-subheading text-muted">현재 계절과 댁내 환경에 맞는 농작물을 추천해드립니다.</h3>
                </div>
                <ul class="timeline">
                    <li>
                        <div class="timeline-image"><img class="rounded-circle img-fluid" src="{%static "assets/img/about/crop.jpeg" %}" alt="" /></div>

                        {% if predictedLabel == "tomato_baby" %}
                        <div class="timeline-image"><img class="rounded-circle img-fluid" src="{%static "assets/img/about/tomato.jpeg" %}" alt="" /></div>
                        {% endif %}

                        {% if predictedLabel == "pepper_baby" %}
                        <div class="timeline-image"><img class="rounded-circle img-fluid" src="{%static "assets/img/about/pepper.jpg" %}" alt="" /></div>
                        {% endif %}

                        {% if predictedLabel == "sangchu_baby" %}
                        <div class="timeline-image"><img class="rounded-circle img-fluid" src="{%static "assets/img/about/sangcu.jpeg" %}" alt="" /></div>
                        {% endif %}

                        {% if predictedLabel == "tomato_adult" %}
                        <div class="timeline-image"><img class="rounded-circle img-fluid" src="{%static "assets/img/about/tomato.jpeg" %}" alt="" /></div>
                        {% endif %}

                        {% if predictedLabel == "pepper_adult" %}
                        <div class="timeline-image"><img class="rounded-circle img-fluid" src="{%static "assets/img/about/pepper.jpg" %}" alt="" /></div>
                        {% endif %}

                        {% if predictedLabel == "sangchu_adult" %}
                        <div class="timeline-image"><img class="rounded-circle img-fluid" src="{%static "assets/img/about/sangcu.jpeg" %}" alt="" /></div>
                        {% endif %}

                        <div class="timeline-panel">
                             <div class="timeline-heading">
                            {% if predictedLabel == "tomato_baby" %}
                            <h4 class="subheading">토마토를 키우시네요! </h4>
                            {% endif %}

                            {% if predictedLabel == "tomato_adult" %}
                            <h4 class="subheading">토마토를 수확하세요! </h4>
                            <script src="//code.jquery.com/jquery-1.11.0.min.js"></script>
                            <script type="text/javascript">
                                alert("토마토를 재배하세요!")
                            </script>
                            {% endif %}
                            
                            {% if predictedLabel == "pepper_baby" %}
                            <h4 class="subheading">고추를 키우시네요! </h4>
                            {% endif %}

                            {% if predictedLabel == "pepper_adult" %}
                            <h4 class="subheading">고추를 수확하세요! </h4>
                            <script src="//code.jquery.com/jquery-1.11.0.min.js"></script>
                            <script type="text/javascript">
                                alert("고추를 재배하세요!")
                            </script>
                            {% endif %}

                            {% if predictedLabel == "sangchu_baby" %}
                            <h4 class="subheading">꽃상추를 키우시네요! </h4>
                            {% endif %}

                            {% if predictedLabel == "sangchu_adult" %}
                            <h4 class="subheading">꽃상추를 수확하세요! </h4>
                            <script src="//code.jquery.com/jquery-1.11.0.min.js"></script>
                            <script type="text/javascript">
                                alert("꽃상추를 재배하세요!")
                            </script>
                            {% endif %}

                            </div>
                            <div class="timeline-heading">
                                <h4 class="subheading">현재 온도와 습도</h4>
                            </div>
                            <div class="timeline-body"><p class="text-muted"></p>우리집 현재 온도는 {{Temp.temper}}°C,<br>습도는 {{Temp.humadi}}% 입니다.</div>
                            <div class="timeline-heading">
                                {% if predictedLabel == "tomato_baby" %}
                                <h4 class="subheading">토마토를 위해서</h4>
                                {% endif %}

                                {% if predictedLabel == "pepper_baby" %}
                                <h4 class="subheading">고추를 위해서</h4>
                                {% endif %}

                                {% if predictedLabel == "sangchu_baby" %}
                                <h4 class="subheading">꽃상추를 위해서</h4>
                                {% endif %}
                            </div>
                            {% if predictedLabel == "tomato_baby" %}
                            <div class="timeline-body"><p class="text-muted"></p>온도를 {{Temp_tomato.good_min_temp}}°C ~ {{Temp_tomato.good_max_temp}}°C이내,<br>습도를 {{Temp_tomato.good_min_humid}}% ~ {{Temp_tomato.good_max_humid}}%이내로<br>맞춰주세요!</div>
                            {% endif %}

                            {% if predictedLabel == "pepper_baby" %}
                            <div class="timeline-body"><p class="text-muted"></p>온도를 {{Temp_pepper.good_min_temp}}°C ~ {{Temp_pepper.good_max_temp}}°C이내,<br>습도를 {{Temp_pepper.good_min_humid}}% ~ {{Temp_pepper.good_max_humid}}%이내로<br>맞춰주세요!</div>
                            {% endif %}

                            {% if predictedLabel == "sangchu_baby" %}
                            <div class="timeline-body"><p class="text-muted"></p>온도를 {{Temp_sangcu.good_min_temp}}°C ~ {{Temp_sangcu.good_max_temp}}°C이내,<br> 습도를 {{Temp_sangcu.good_min_humid}}% ~ {{Temp_sangcu.good_max_humid}}%이내로<br>맞춰주세요</div>
                            {% endif %}

                            <a href="showphoto" class="btn btn-primary btn-xl text-uppercase">갤러리보기 </a>
                        </div>
                    </li>
                    <li class="timeline-inverted">
                        <div class="timeline-image"><img class="rounded-circle img-fluid" src="{%static "assets/img/about/4.jpeg"%}"  /></div>
                        <div class="timeline-panel">
                            <div class="timeline-heading">
                                <h4 class="subheading">{{request.session.name}}님 댁 환경에 어울리는 농작물</h4>
                            </div>
                            <div class="timeline-body">{% for gfarm in Gfarm %}<p class="text-muted">
                            {{gfarm.name}}
                            {% endfor %}</p>
                        </div>
                        </div>
                    </li>
                    <li>
                        <div class="timeline-image"><img class="rounded-circle img-fluid" src="{%static "assets/img/about/3.jpg" %}" alt="" /></div>
                        <div class="timeline-panel">
                            <div class="timeline-heading">
                                <h4 class="subheading">요즘 키우기 좋은 농작물</h4>
                            </div>
                            <div class="timeline-body"><p class="text-muted">현재 계절 : {{Season}}</p></div>

                            <div class="timeline-body">{% for sfarm in Sfarm %}<p class="text-muted">
                            {{sfarm.s_name}}
                            {% endfor %}</p></div>
                        </div>
                    </li>
                    <li class="timeline-inverted">
                        <div class="timeline-image"><img class="rounded-circle img-fluid" src="{%static "assets/img/about/water.jpeg" %}" alt="" /></div>
                        <div class="timeline-panel">
                            <div class="timeline-heading">
                                <h4 class="subheading">{% if predictedLabel == "tomato_baby" %} 토마토에 {% endif %}
                                {% if predictedLabel == "pepper_baby" %} 고추에 {% endif %} 
                                {% if predictedLabel == "sangchu_baby" %} 상추에 {% endif %}  다음 물주는 날짜</h4>
                            </div>
                            {% if predictedLabel == "tomato_baby" %}
                            <div class="timeline-body"><p class="text-muted"></p>토마토 물주는 주기 : 3일</div>
                            {% endif %}

                            {% if predictedLabel == "pepper_baby" %}
                            <div class="timeline-body"><p class="text-muted"></p>고추 물주는 주기 : 3일</div>
                            {% endif %}

                            {% if predictedLabel == "sangchu_baby" %}
                            <div class="timeline-body"><p class="text-muted"></p>꽃상추 물주는 주기 : 3일</div>
                            {% endif %}

                            {% if predictedLabel == "tomato_baby" %}
                            <div class="timeline-body"><p class="text-muted"></p>토마토에 오늘 물을 주었다면 물주기 완료 버튼을 눌러주세요!</div>
                            <a href="tomato_givewater" onclick="t_water()" class="btn btn-primary btn-xl text-uppercase">토마토 물주기 완료</a>
                            {% endif %}

                            {% if predictedLabel == "pepper_baby" %}
                            <div class="timeline-body"><p class="text-muted"></p>고추에 오늘 물을 주었다면 물주기  완료 버튼을 눌러주세요!</div>
                            <a href="pepper_givewater" onclick="p_water()" class="btn btn-primary btn-xl text-uppercase">고추 물주기 완료</a>
                            {% endif %}

                            {% if predictedLabel == "sangchu_baby" %}
                            <div class="timeline-body"><p class="text-muted"></p>상추에 오늘 물을 주었다면 물주기 완료 버튼을 눌러주세요!</div>
                            <a href="sangcu_givewater" onclick="s_water()" class="btn btn-primary btn-xl text-uppercase">상추 물주기 완료</a>
                            {% endif %}
                        </div>
                    </li>
                    <li class="timeline-inverted">
                        <div class="timeline-image">
                            <h4>
                                그럼 
                                <br />
                                다른농작물도
                                <br />
                                함께 키워봅시다!
                            </h4>
                        </div>
                    </li>
                </ul>
            </div>
        </section>
        <!-- Team-->
        <!-- Team-->
        <section class="page-section bg-light" id="team">
            <div class="container">
                <div class="text-center">
                    <h2 class="section-heading text-uppercase">Our Amazing Team</h2>
                    <h3 class="section-subheading text-muted">City Farmaer을 위해 힘써주는 세명의 개발자들을 소개합니다.</h3>
                </div>
                <div class="row">
                    <div class="col-lg-4">
                        <div class="team-member">
                            <img class="mx-auto rounded-circle" src="{%static "assets/img/team/1.png" %}" alt="" />
                            <h4>권 가 은</h4>
                            <p class="text-muted">Front-End Specialist</p>
                            <p class="text-muted">IoT Specialist</p>
                            <p class="text-muted">Ewha Womans University</p>
                            <p class="text-muted">Mechanical and Biomedical Engineering</p>
                            <p class="text-muted">aileen1007@ewhain.net</p>
                            <a class="btn btn-dark btn-social mx-2" href="#!"><i class="fab fa-facebook-f"></i></a>
                            <a class="btn btn-dark btn-social mx-2" href="https://www.instagram.com/ganiarchive/"><i class="fab fa-instagram"></i></a>
                            <a class="btn btn-dark btn-social mx-2" href="#!"><i class="fab fa-blogger"></i></a>
                        </div>
                    </div>
                    <div class="col-lg-4">
                        <div class="team-member">
                            <img class="mx-auto rounded-circle" src="{%static "assets/img/team/1.png" %}" alt="" />
                            <h4>김 하 영</h4>
                            <p class="text-muted">Data Structure Specialist</p>
                            <p class="text-muted">IoT Specialist</p>
                            <p class="text-muted">Ewha Womans University</p>
                            <p class="text-muted">Architectural and Urban System Engineering</p>
                            <p class="text-muted">gfkdglddl@ewhain.net</p>
                            <a class="btn btn-dark btn-social mx-2" href="#!"><i class="fab fa-facebook-f"></i></a>
                            <a class="btn btn-dark btn-social mx-2" href="#!"><i class="fab fa-instagram"></i></a>
                            <a class="btn btn-dark btn-social mx-2" href="#!"><i class="fab fa-blogger"></i></a>
                        </div>
                    </div>
                    <div class="col-lg-4">
                        <div class="team-member">
                            <img class="mx-auto rounded-circle" src="{%static "assets/img/team/1.png" %}" alt="" />
                            <h4>문 지 예</h4>
                            <p class="text-muted">AI Specialist</p>
                            <p class="text-muted">Back-End Specialist</p>
                            <p class="text-muted">Ewha Womans University</p>
                            <p class="text-muted">Mechanical and Biomedical Engineering</p>
                            <p class="text-muted">jym1997318@ewhain.net</p>
                            <a class="btn btn-dark btn-social mx-2" href=" https://www.facebook.com/profile.php?id=100012275431296"><i class="fab fa-facebook-f"></i></a>
                            <a class="btn btn-dark btn-social mx-2" href="https://www.instagram.com/jym_0318/"><i class="fab fa-instagram"></i></a>
                            <a class="btn btn-dark btn-social mx-2" href="https://blog.naver.com/jym1997318"><i class="fab fa-blogger"></i></a>
                        </div>
                    </div>
                </div>
                <div class="row">
                    <div class="col-lg-8 mx-auto text-center"><p class="large text-muted">저희 City Farmer 개발자들은 보다 나은 서비스를 위해 계속해서 노력할 것입니다.</p></div>
                </div>
            </div>
        </section>
        <!-- Clients-->        
        <!-- Contact-->
        <section class="page-section" id="contact">
            <div class="container">
                <div class="text-center">
                    <h2 class="section-heading text-uppercase">Contact Us</h2>
                    <h3 class="section-subheading text-muted">If you find any problem, please contact us.</h3>
                </div>
                <form id="contactForm" name="sentMessage" novalidate="novalidate">
                    <div class="row align-items-stretch mb-5">
                        <div class="col-md-6">
                            <div class="form-group">
                                <input class="form-control" id="name" type="text" placeholder="Your Name *" required="required" data-validation-required-message="Please enter your name." />
                                <p class="help-block text-danger"></p>
                            </div>
                            <div class="form-group">
                                <input class="form-control" id="email" type="email" placeholder="Your Email *" required="required" data-validation-required-message="Please enter your email address." />
                                <p class="help-block text-danger"></p>
                            </div>
                            <div class="form-group mb-md-0">
                                <input class="form-control" id="phone" type="tel" placeholder="Your Phone *" required="required" data-validation-required-message="Please enter your phone number." />
                                <p class="help-block text-danger"></p>
                            </div>
                        </div>
                        <div class="col-md-6">
                            <div class="form-group form-group-textarea mb-md-0">
                                <textarea class="form-control" id="message" placeholder="Your Message *" required="required" data-validation-required-message="Please enter a message."></textarea>
                                <p class="help-block text-danger"></p>
                            </div>
                        </div>
                    </div>
                    <div class="text-center">
                        <div id="success"></div>
                        <button class="btn btn-primary btn-xl text-uppercase" id="sendMessageButton" type="submit">Send Message</button>
                    </div>
                </form>
            </div>
        </section>
        <!-- Footer-->
        <footer class="footer py-4">
            <div class="container">
                <div class="row align-items-center">
                    <div class="col-lg-4 text-lg-left">Copyright © HaniumCityFarm 2020</div>
                    <div class="col-lg-4 my-3 my-lg-0">

                    </div>
                    <div class="col-lg-4 text-lg-right">

                    </div>
                </div>
            </div>
        </footer>
        <!-- Portfolio Modals-->
        <!-- Modal 1-->
        <div class="portfolio-modal modal fade" id="portfolioModal1" tabindex="-1" role="dialog" aria-hidden="true">
            <div class="modal-dialog">
                <div class="modal-content">
                    <div class="close-modal" data-dismiss="modal"><img src="{%static "assets/img/close-icon.svg" %}" alt="Close modal" /></div>
                    <div class="container">
                        <div class="row justify-content-center">
                            <div class="col-lg-8">
                                <div class="modal-body">
                                    <!-- Project Details Go Here-->
                                    <form class="form-inline" action="predictimage" method="post" enctype="multipart/form-data">
                                    {% csrf_token %}
                                      <div class="form-group">
                                        <label for="photoUp"></label>
                                        <input type = "file" id="photoUp" name="filePath" accept = "image/*;capture=camera">
                                        <label for="photoUp" style="margin-top:8px;"></label>
                                        <input type = "submit" value = "submit">
                                        
                                      </div>
                                      
                                    </form>
                                  </div>
                                    <button class="btn btn-primary" data-dismiss="modal" type="button">
                                        <i class="fas fa-times mr-1"></i>
                                        닫기
                                    </button>
                                </div>
                            </div>
                        </div>

                    </div>
                </div>
            </div>
        </div>
        
        <!-- Bootstrap core JS-->
        <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
        <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/js/bootstrap.bundle.min.js"></script>
        <!-- Third party plugin JS-->
        <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery-easing/1.4.1/jquery.easing.min.js"></script>
        <!-- Contact form JS-->
        <script src="{% static "assets/mail/jqBootstrapValidation.js" %}"></script>
        <script src="{% static "assets/mail/contact_me.js" %}"></script>
        <!-- Core theme JS-->
        <script src="{% static "js/scripts.js" %}"></script>
    </body>
</html>
